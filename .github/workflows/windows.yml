name: windows
on:
  # push:
  #  branches: ["main"]
  workflow_dispatch:

jobs:
  build:
    runs-on: windows-latest
    # runs-on: windows-11-arm
    defaults:
      run:
        shell: bash
    steps:
      # - run: |
      #     "/c/Program Files (x86)/Microsoft Visual Studio/Installer/setup.exe" modify --passive --norestart \
      #       --installPath 'C:\Program Files\Microsoft Visual Studio\2022\Enterprise' \
      #       --add Microsoft.VisualStudio.ComponentGroup.VC.Tools.142.x86.x64
          # "C:\Program Files (x86)\Microsoft Visual Studio\Installer\setup.exe" modify --passive --norestart ^
          #   --installPath "C:\Program Files\Microsoft Visual Studio\2022\Enterprise" ^
          #   --add Microsoft.VisualStudio.ComponentGroup.VC.Tools.142.x86.x64
        # shell: cmd
      - uses: ilammy/msvc-dev-cmd@v1
        with:
          arch: x64
          toolset: 14.29
      - run: |
          cl.exe
        shell: cmd

      # - uses: actions/checkout@v4

      # - name: Upload artifact
      #   uses: actions/upload-artifact@v4
      #   with:
      #     name: ffmpeg-build-dir
      #     compression-level: 0
      #     path: |
      #       ${{ env.CONAN_HOME }}/p/b/ffmp*/b/build-release
